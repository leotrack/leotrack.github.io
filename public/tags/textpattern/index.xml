<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Textpattern on 猪八的网：浮生志</title>
    <link>/tags/textpattern/</link>
    <description>Recent content in Textpattern on 猪八的网：浮生志</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>cn</language>
    <copyright>Zhu8, [&lt;a href=&#34;https://creativecommons.org/licenses/by-sa/4.0/deed.zh&#34;&gt;CC BY-SA&lt;/a&gt;]</copyright>
    <lastBuildDate>Wed, 16 Apr 2008 22:29:04 +0800</lastBuildDate>
    
	<atom:link href="/tags/textpattern/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>从wordpress到textpattern</title>
      <link>/blog/2008/04/from-wordpress-to-textpattern.html</link>
      <pubDate>Wed, 16 Apr 2008 22:29:04 +0800</pubDate>
      
      <guid>/blog/2008/04/from-wordpress-to-textpattern.html</guid>
      <description>&lt;p&gt;其实&lt;span class=&#34;right&#34;&gt;&lt;img src=&#34;/images/txp.gif&#34; alt=&#34;Textpattern&#34; title=&#34;Textpattern&#34;&gt;&lt;/span&gt;很久以前就试用了 &lt;a href=&#34;http://textpattern.com/&#34;&gt;TXP&lt;/a&gt; ，但是一直是一头雾水，今天终于 &lt;sup&gt;其实昨天&lt;/sup&gt; 就已经弄好了。不过一直wordpress导入有点小问题，所以一直没有换过来。现在折腾好了，做一下小 &lt;strong&gt;记录：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;解决乱码问题&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;打开 &lt;em&gt;import_wp.php&lt;/em&gt; ，找到下面这行：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mysql_select_db($b2db, $b2link);&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;在后面加上：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mysql_query(&amp;quot;SET NAMES &#39;utf8&#39;&amp;quot;, $b2link);&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;增加 Excerpt 部分&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;找到下面这行：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;p.post_content as Body,&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;在后面加上：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;p.post_excerpt as Excerpt,&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;同样的，找到这行：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Body_html = &#39;&amp;quot;.doSlash($Body_html).&amp;quot;&#39;,&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;在后面加上：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;Excerpt &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#d14&#34;&gt;&amp;#39;&amp;#34;.doSlash($Excerpt).&amp;#34;&amp;#39;&lt;/span&gt;,
Excerpt_html &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#d14&#34;&gt;&amp;#39;&amp;#34;.doSlash($Excerpt).&amp;#34;&amp;#39;&lt;/span&gt;,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;不导入附件生成的页面&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;找到下面这行：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;&amp;quot;.$wpdbprefix.&amp;quot;users as u on u.ID = p.post_author&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;在后面加上：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;WHERE p.post_status != &#39;attachment&#39;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;差不多就这些了，在懒懒喵的 &lt;a href=&#34;http://blog.nahoya.com/archives/2006_09/129&#34;&gt;旧文&lt;/a&gt; 中提到的留言关闭问题已经在Textpattern · 4.0.6中得到了解决。 &lt;strong&gt;但是我本人的一个问题，Tag问题还没有搞定，导入会变成Category，我是用的笨办法：直接在WP数据库中先删除它，哈哈！&lt;/strong&gt; 还有一个小问题，导入user错误，不过如果是单用户的Blog，大可不必去管这个问题。&lt;/p&gt;
&lt;p&gt;*放出修改后的 &lt;del&gt;import_wp.php&lt;/del&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;P.S&lt;/em&gt; 初次使用 &lt;a href=&#34;http://textile.thresholdstate.com/&#34;&gt;Textile&lt;/a&gt; ，感觉还要适应好段时间，不过用起来确实是种不同的体验。&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>